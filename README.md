# ParserInTelegramBot

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å–∏—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å —Å–∞–π—Ç–∞ Rule34 –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º —Ç–µ–≥–∞–º –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π —á–∞—Ç.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ —Ç–µ–≥–∞–º —Å Rule34.
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ Telegram-—á–∞—Ç.
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–≥–æ–≤ –∏ —Å—Å—ã–ª–æ–∫ —á–µ—Ä–µ–∑ `.env`.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

   ```bash
   git clone https://github.com/LazyZombieNya/ParserInTelegramBot.git
   cd ParserInTelegramBot
   ```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

   ```bash
   pip install -r requirements.txt
   ```

3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –Ω–µ–≥–æ:

   ```env
   TELEGRAM_BOT_TOKEN=YOUR_TELEGRAM_BOT_TOKEN
   TELEGRAM_CHAT_ID_T=YOUR_TELEGRAM_CHAT_ID_FOR_ALL
   TELEGRAM_CHAT_ID_V=YOUR_TELEGRAM_CHAT_ID_FOR_VIDEO
   TAGS_34_T = anime,star_wars,female
   TAGS_34_V = video
   UNWANTED_TAGS_34 = +-male+-bara
   WEBSITE_34 = https://api.rule34.xxx/index.php?page=dapi&s=post&q=index&tags=
   POST_URL_34 = https://rule34.xxx/index.php?page=post&s=view&id=
   RATING_POST = score:>=200+
   API_R34 = &api_key=YOUR_RULE34_API_KEY&user_id=YOUR_ID
   GEMINI_API_KEY = YOUR_GEMINI_API_KEY
   GEMINI_MODEL = gemini-2.0-flash
   PROMPT_FOR_TITLE = –ü—Ä–µ–æ–±—Ä–∞–∑—É–π —Å–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤ –≤ –æ–¥–Ω–æ –∫—Ä–∞—Å–∏–≤–æ–µ –∏ –æ–±—Ä–∞–∑–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π —Ö—ç—à—Ç–µ–≥–∏, —Å—Å—ã–ª–∫–∏, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã (POV, 3D, CGI, AI, —Ä–µ–Ω–¥–µ—Ä, —Ñ–æ—Ä–º–∞—Ç, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è, –≤–∏–¥–µ–æ, –∞–Ω–∏–º–∞—Ü–∏—è). –£–ø–æ–º–∏–Ω–∞–π —Ç–æ–ª—å–∫–æ —Ç–µ—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∏ –≤—Å–µ–ª–µ–Ω–Ω—É—é (—Ñ–∞–Ω–¥–æ–º), –∫–æ—Ç–æ—Ä—ã–µ —É–∫–∞–∑–∞–Ω—ã –≤ —Ç–µ–≥–∞—Ö, –∏ —Ç–æ, —á—Ç–æ –æ–Ω–∏ –¥–µ–ª–∞—é—Ç. –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª—ë–≥–∫–∏–µ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, –ø–µ–π–∑–∞–∂, —ç–º–æ—Ü–∏–∏), –Ω–æ –±–µ–∑ –≤—ã–¥—É–º—ã–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π –∏–ª–∏ –≥–µ—Ä–æ–µ–≤. –ü–∏—à–∏ –≤ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω–æ–º —Å—Ç–∏–ª–µ, –∫–∞–∫ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ —Å—Ü–µ–Ω—ã –≤ –∫–Ω–∏–≥–µ –Ω–æ –≤ –æ–¥–Ω–æ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏. –ú–∞–∫—Å–∏–º—É–º 20-30 —Å–ª–æ–≤.
   ```
## üîë –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π –∏ —Ç–æ–∫–µ–Ω–æ–≤

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –±–æ—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –∏ API-–∫–ª—é—á–∏ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

1. TELEGRAM_BOT_TOKEN
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ @BotFather –≤ Telegram.
- –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π /newbot.
- –£–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ —é–∑–µ—Ä–Ω–µ–π–º –¥–ª—è –±–æ—Ç–∞.
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—ã–¥–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ –≤ .env –∫–∞–∫ TELEGRAM_BOT_TOKEN.

2. TELEGRAM_CHAT_ID_T –∏ TELEGRAM_CHAT_ID_V
- –î–æ–±–∞–≤—å—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –±–æ—Ç–∞ –≤ –≤–∞—à Telegram-—á–∞—Ç (–≥—Ä—É–ø–ø—É –∏–ª–∏ –∫–∞–Ω–∞–ª).
- –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ:
```bash
https://api.telegram.org/bot<–í–ê–®_TELEGRAM_BOT_TOKEN>/getUpdates
```
- –ù–∞–π–¥–∏—Ç–µ –ø–æ–ª–µ "chat":{"id":...} –≤ –æ—Ç–≤–µ—Ç–µ ‚Äî —ç—Ç–æ –≤–∞—à chat_id.
- –£–∫–∞–∂–∏—Ç–µ –µ–≥–æ –≤ .env:
- TELEGRAM_CHAT_ID_T ‚Äî –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.
- TELEGRAM_CHAT_ID_V ‚Äî –¥–ª—è –≤–∏–¥–µ–æ (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —á–∞—Ç).
* –ò–ª–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ—Ç–æ–≤ –∫–æ—Ç—Ä—ã–µ –≤—ã–¥–∞—é—Ç —Ç–≤–æ–π ID –∫–∞–∫ GetMyIDBot

3. API_R34
- –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å –Ω–∞ —Å–∞–π—Ç–µ [Rule34](https://rule34.xxx/index.php?page=account&s=home)
- –í [–Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ—Ñ–∏–ª—è](https://rule34.xxx/index.php?page=account&s=options) –ø–æ–ª—É—á–∏—Ç–µ API Key –∏ User ID.
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–∂–∞—Ç—å –Ω–∞ –≥–∞–ª–æ—á–∫—É Generate New Key? –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è
- –ü–æ–¥—Å—Ç–∞–≤—å—Ç–µ –∏—Ö –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é: API_R34 = &api_key=–í–ê–®_API_KEY&user_id=–í–ê–®_USER_ID

4. GEMINI_API_KEY
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google AI Studio](https://aistudio.google.com/app/apikey)
- –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ API-–∫–ª—é—á.
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ –≤ .env –∫–∞–∫ GEMINI_API_KEY.

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:

```bash
python main.py
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `python main.py` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.
